{% set version = "isis8" %} # dependencies synched up to this version of ISIS
package:
    name: multiview
    version: {{ version }}

source:
  git_url: git@github.com:NeoGeographyToolkit/MultiView.git
# Note: No tag here; will compile the latest

build:
    number: 0

requirements:
    build:
        - {{ compiler('c') }}
        - {{ compiler('cxx') }}
        - cmake
        - git
        
    host:
        - ilmbase 2.5.5
        - openexr 2.5.5
        - boost 1.72.0
        - boost-cpp 1.72.0
        - curl 7.87.0
        - flann 1.9.1
        - gflags 2.2.2
        - glog 0.6.0
        - gmp 6.2.1
        - jpeg 9e
        - giflib 5.2.1
        - libopencv 4.5.5
        - libpng 1.6.39
        - libprotobuf 3.19.6
        - libtiff 4.4.0
        - llvm-openmp 16.0.6
        - mpfr 4.2.0
        - numpy 1.25.2
        - opencv 4.5.5
        - openjpeg 2.3.0
        - protobuf 3.19.6
        - python 3.9.15
        - qhull 2020.2
        - pcl 1.11.1
        - qt 5.12.9
        - rapidjson 1.1.0
        - rocksdb 6.13.3
        - suitesparse 5.10.1
        - superlu 5.2.2
        - eigen 3.4.0
        - mesalib
        - tbb=2021.7.0=h924138e_1         # [linux] # precise version is important
        - tbb-devel=2021.7.0=h924138e_1   # [linux] # precise version is important
        - tbb=2021.7.0=hb8565cd_1         # [osx]   # precise version is important
        - tbb-devel=2021.7.0=hb8565cd_1   # [osx]   # precise version is important 
        - ceres-solver=1.14.0=hf302a74_15 # [linux] # must use Eigen 3.4.0
        - ceres-solver=1.14.0=h636452b_15 # [osx]   # must use Eigen 3.4.0
        - mesa-libgl-cos6-x86_64          # [linux]
        - xorg-libxmu                     # [linux]
        - xorg-libice 1.1.1               # [linux]
        - xorg-libsm 1.2.4                # [linux]
        - mysql-libs 8.0.28               # [linux]
        - mysql-common 8.0.28             # [linux]

    run:
        - ilmbase 2.5.5
        - openexr 2.5.5
        - boost 1.72.0
        - boost-cpp 1.72.0
        - curl 7.87.0
        - flann 1.9.1
        - gflags 2.2.2
        - glog 0.6.0
        - gmp 6.2.1
        - jpeg 9e
        - giflib 5.2.1
        - libopencv 4.5.5
        - libpng 1.6.39
        - libprotobuf 3.19.6
        - libtiff 4.4.0
        - llvm-openmp 16.0.6
        - mpfr 4.2.0
        - numpy 1.25.2
        - opencv 4.5.5
        - openjpeg 2.3.0
        - protobuf 3.19.6
        - python 3.9.15
        - qhull 2020.2
        - pcl 1.11.1
        - qt 5.12.9
        - rapidjson 1.1.0
        - rocksdb 6.13.3
        - suitesparse 5.10.1
        - superlu 5.2.2
        - eigen 3.4.0
        - mesalib
        - tbb=2021.7.0=h924138e_1         # [linux] # precise version is important
        - tbb-devel=2021.7.0=h924138e_1   # [linux] # precise version is important
        - tbb=tbb=2021.10.0=h1c7c39f_0    # [osx]   # precise version is important
        - tbb-devel=2021.10.0=h1c7c39f_0  # [osx]   # precise version is important 
        - ceres-solver=1.14.0=hf302a74_15 # [linux] # must use Eigen 3.4.0
        - ceres-solver=1.14.0=h636452b_15 # [osx]   # must use Eigen 3.4.0
        - mesa-libgl-cos6-x86_64          # [linux] 
        - xorg-libxmu                     # [linux]
        - xorg-libice 1.1.1               # [linux]
        - xorg-libsm 1.2.4                # [linux]
        - mysql-libs 8.0.28               # [linux]
        - mysql-common 8.0.28             # [linux]

test:

about:
    home: https://github.com/oleg-alexandrov/MultiView
    license: Apache II
    summary: A collection of tools for calibration of a rig of N image and/or depth+image cameras, fusion of point clouds into a mesh, and seamless texturing of meshes 

extra:
  recipe-maintainers:
          - oleg.alexandrov@gmail.com
